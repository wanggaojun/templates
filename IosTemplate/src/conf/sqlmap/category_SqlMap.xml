<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="category">
  <resultMap class="com.shop.web.entity.Category" id="abatorgenerated_CategoryResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    

    <result column="Id" jdbcType="INTEGER" property="id"/>
    <result column="name" jdbcType="VARCHAR" property="name"/>
    <result column="description" jdbcType="VARCHAR" property="description"/>
    <result column="parent_id" jdbcType="INTEGER" property="parentId"/>
    <result column="create_time" jdbcType="BIGINT" property="createTime"/>
    <result column="modify_time" jdbcType="BIGINT" property="modifyTime"/>
    <result column="sysflag" jdbcType="TINYINT" property="sysflag"/>
    <result property="subCategory"  column="{parent_id=Id}"  select="category.my_selectSubCategory" ></result>
  </resultMap>
  
    <statement id="my_selectSubCategory" resultMap="abatorgenerated_CategoryResult">

    select Id, name, description, parent_id, create_time, modify_time, sysflag
    from category  where parent_id=#parent_id#
    
    </statement>
  
  <sql id="abatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    <dynamic prepend="where">
      <isPropertyAvailable prepend="and" property="AND_Id_NULL">
        Id is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_NULL">
        Id is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_NOT_NULL">
        Id is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_NOT_NULL">
        Id is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_EQUALS">
        Id = #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_EQUALS">
        Id = #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_NOT_EQUALS">
        Id <![CDATA[ <> ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_NOT_EQUALS">
        Id <![CDATA[ <> ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_GT">
        Id <![CDATA[ > ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_GT">
        Id <![CDATA[ > ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_GE">
        Id <![CDATA[ >= ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_GE">
        Id <![CDATA[ >= ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_LT">
        Id <![CDATA[ < ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_LT">
        Id <![CDATA[ < ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_Id_LE">
        Id <![CDATA[ <= ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_Id_LE">
        Id <![CDATA[ <= ]]> #id:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_NULL">
        name is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_NULL">
        name is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_NOT_NULL">
        name is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_NOT_NULL">
        name is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_EQUALS">
        name = #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_EQUALS">
        name = #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_NOT_EQUALS">
        name <![CDATA[ <> ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_NOT_EQUALS">
        name <![CDATA[ <> ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_GT">
        name <![CDATA[ > ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_GT">
        name <![CDATA[ > ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_GE">
        name <![CDATA[ >= ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_GE">
        name <![CDATA[ >= ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_LT">
        name <![CDATA[ < ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_LT">
        name <![CDATA[ < ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_LE">
        name <![CDATA[ <= ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_LE">
        name <![CDATA[ <= ]]> #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_name_LIKE">
        name like #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_name_LIKE">
        name like #name:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_NULL">
        description is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_NULL">
        description is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_NOT_NULL">
        description is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_NOT_NULL">
        description is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_EQUALS">
        description = #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_EQUALS">
        description = #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_NOT_EQUALS">
        description <![CDATA[ <> ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_NOT_EQUALS">
        description <![CDATA[ <> ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_GT">
        description <![CDATA[ > ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_GT">
        description <![CDATA[ > ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_GE">
        description <![CDATA[ >= ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_GE">
        description <![CDATA[ >= ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_LT">
        description <![CDATA[ < ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_LT">
        description <![CDATA[ < ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_LE">
        description <![CDATA[ <= ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_LE">
        description <![CDATA[ <= ]]> #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_description_LIKE">
        description like #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_description_LIKE">
        description like #description:VARCHAR#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_NULL">
        parent_id is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_NULL">
        parent_id is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_NOT_NULL">
        parent_id is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_NOT_NULL">
        parent_id is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_EQUALS">
        parent_id = #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_EQUALS">
        parent_id = #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_NOT_EQUALS">
        parent_id <![CDATA[ <> ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_NOT_EQUALS">
        parent_id <![CDATA[ <> ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_GT">
        parent_id <![CDATA[ > ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_GT">
        parent_id <![CDATA[ > ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_GE">
        parent_id <![CDATA[ >= ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_GE">
        parent_id <![CDATA[ >= ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_LT">
        parent_id <![CDATA[ < ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_LT">
        parent_id <![CDATA[ < ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_parent_id_LE">
        parent_id <![CDATA[ <= ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_parent_id_LE">
        parent_id <![CDATA[ <= ]]> #parentId:INTEGER#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_NULL">
        create_time is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_NULL">
        create_time is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_NOT_NULL">
        create_time is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_NOT_NULL">
        create_time is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_EQUALS">
        create_time = #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_EQUALS">
        create_time = #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_NOT_EQUALS">
        create_time <![CDATA[ <> ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_NOT_EQUALS">
        create_time <![CDATA[ <> ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_GT">
        create_time <![CDATA[ > ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_GT">
        create_time <![CDATA[ > ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_GE">
        create_time <![CDATA[ >= ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_GE">
        create_time <![CDATA[ >= ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_LT">
        create_time <![CDATA[ < ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_LT">
        create_time <![CDATA[ < ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_create_time_LE">
        create_time <![CDATA[ <= ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_create_time_LE">
        create_time <![CDATA[ <= ]]> #createTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_NULL">
        modify_time is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_NULL">
        modify_time is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_NOT_NULL">
        modify_time is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_NOT_NULL">
        modify_time is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_EQUALS">
        modify_time = #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_EQUALS">
        modify_time = #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_NOT_EQUALS">
        modify_time <![CDATA[ <> ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_NOT_EQUALS">
        modify_time <![CDATA[ <> ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_GT">
        modify_time <![CDATA[ > ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_GT">
        modify_time <![CDATA[ > ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_GE">
        modify_time <![CDATA[ >= ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_GE">
        modify_time <![CDATA[ >= ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_LT">
        modify_time <![CDATA[ < ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_LT">
        modify_time <![CDATA[ < ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_modify_time_LE">
        modify_time <![CDATA[ <= ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_modify_time_LE">
        modify_time <![CDATA[ <= ]]> #modifyTime:BIGINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_NULL">
        sysflag is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_NULL">
        sysflag is null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_NOT_NULL">
        sysflag is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_NOT_NULL">
        sysflag is not null
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_EQUALS">
        sysflag = #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_EQUALS">
        sysflag = #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_NOT_EQUALS">
        sysflag <![CDATA[ <> ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_NOT_EQUALS">
        sysflag <![CDATA[ <> ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_GT">
        sysflag <![CDATA[ > ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_GT">
        sysflag <![CDATA[ > ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_GE">
        sysflag <![CDATA[ >= ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_GE">
        sysflag <![CDATA[ >= ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_LT">
        sysflag <![CDATA[ < ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_LT">
        sysflag <![CDATA[ < ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="and" property="AND_sysflag_LE">
        sysflag <![CDATA[ <= ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
      <isPropertyAvailable prepend="or" property="OR_sysflag_LE">
        sysflag <![CDATA[ <= ]]> #sysflag:TINYINT#
      </isPropertyAvailable>
    </dynamic>
  </sql>
  <select id="abatorgenerated_selectByPrimaryKey" parameterClass="com.shop.web.entity.Category" resultMap="abatorgenerated_CategoryResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    select Id, name, description, parent_id, create_time, modify_time, sysflag
    from category
    where Id = #id:INTEGER#
  </select>
  
  

  <select id="abatorgenerated_selectByExample" parameterClass="java.util.Map" resultMap="abatorgenerated_CategoryResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    select Id, name, description, parent_id, create_time, modify_time, sysflag
    from category
    <isParameterPresent>
      <include refid="category.abatorgenerated_Example_Where_Clause"/>
      <isPropertyAvailable property="ABATOR_ORDER_BY_CLAUSE">
        order by $ABATOR_ORDER_BY_CLAUSE$
      </isPropertyAvailable>
    </isParameterPresent>
  </select>
  <delete id="deleteAllnodeByPid" parameterClass="com.shop.web.entity.Category">
	 delete from category where FIND_IN_SET(id, getChildLst(#id:INTEGER#));
 </delete>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="com.shop.web.entity.Category">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    delete from category
    where Id = #id:INTEGER#
  </delete>
  <delete id="abatorgenerated_deleteByExample" parameterClass="java.util.Map">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    delete from category
    <include refid="category.abatorgenerated_Example_Where_Clause"/>
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="com.shop.web.entity.Category">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    insert into category (Id, name, description, parent_id, create_time, modify_time, sysflag)
    values (#id:INTEGER#, #name:VARCHAR#, #description:VARCHAR#, #parentId:INTEGER#,
      #createTime:BIGINT#, #modifyTime:BIGINT#, #sysflag:TINYINT#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.shop.web.entity.Category">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    update category
    set name = #name:VARCHAR#,
      description = #description:VARCHAR#,
      parent_id = #parentId:INTEGER#,
      create_time = #createTime:BIGINT#,
      modify_time = #modifyTime:BIGINT#,
      sysflag = #sysflag:TINYINT#
    where Id = #id:INTEGER#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.shop.web.entity.Category">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Dec 17 22:21:47 CST 2011.
    -->
    update category
    <dynamic prepend="set">
      <isNotNull prepend="," property="name">
        name = #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description">
        description = #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="parentId">
        parent_id = #parentId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="createTime">
        create_time = #createTime:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="modifyTime">
        modify_time = #modifyTime:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="sysflag">
        sysflag = #sysflag:TINYINT#
      </isNotNull>
    </dynamic>
    where Id = #id#
  </update>
</sqlMap>
